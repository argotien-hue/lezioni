# Generate a modern landing page index.html for the user's GitHub Pages repo
landing_html = """<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lezioni – Indice</title>
  <style>
    :root{
      --bg:#0f172a;         /* slate-900 */
      --card:#111827;       /* gray-900 */
      --muted:#94a3b8;      /* slate-400 */
      --text:#e5e7eb;       /* gray-200 */
      --accent:#60a5fa;     /* blue-400 */
      --accent-2:#22d3ee;   /* cyan-400 */
      --ring:#1f2937;       /* gray-800 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(34,211,238,.12), transparent 60%),
        radial-gradient(1000px 500px at 100% 0%, rgba(96,165,250,.14), transparent 55%),
        linear-gradient(180deg, var(--bg), #0b1220 60%);
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing: antialiased;
      line-height:1.5;
    }
    header{
      padding:56px 20px 32px;
      text-align:center;
    }
    h1{
      font-size: clamp(28px, 4vw, 44px);
      line-height:1.1;
      margin:0 0 8px 0;
      letter-spacing:.3px;
    }
    .subtitle{
      color:var(--muted);
      margin:0 auto;
      max-width: 780px;
      font-size: clamp(14px, 2.2vw, 18px);
    }
    .toolbar{
      margin:26px auto 0;
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      padding:0 20px;
    }
    .search{
      display:flex;
      align-items:center;
      gap:10px;
      background:rgba(17,24,39,0.7);
      border:1px solid var(--ring);
      border-radius:14px;
      padding:12px 14px;
      width:min(780px, 92vw);
      box-shadow: 0 1px 30px rgba(2,6,23,0.35) inset;
    }
    .search input{
      background:transparent;
      border:0;
      outline:0;
      color:var(--text);
      width:100%;
      font-size:16px;
    }
    .container{
      max-width:1100px;
      margin: 24px auto 80px;
      padding: 0 20px;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat( auto-fill, minmax(260px, 1fr) );
      gap:18px;
    }
    .card{
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(148,163,184,0.14);
      border-radius:18px;
      padding:18px;
      min-height:150px;
      backdrop-filter: blur(6px);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
      box-shadow: 0 1px 0 rgba(255,255,255,0.02), 0 8px 30px rgba(2,6,23,0.45);
    }
    .card:hover{
      transform: translateY(-4px);
      border-color: rgba(96,165,250,0.45);
      box-shadow: 0 10px 40px rgba(2,6,23,0.6);
    }
    .title{
      font-size:18px;
      font-weight:600;
      margin:0 0 6px 0;
    }
    .meta{
      color:var(--muted);
      font-size:13px;
    }
    .actions{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      appearance:none;
      text-decoration:none;
      color:#0b1220;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border:0;
      padding:9px 12px;
      border-radius:12px;
      font-weight:600;
      font-size:14px;
      transition: filter .15s ease;
    }
    .btn:hover{ filter:brightness(1.05) }
    .btn.secondary{
      background: transparent;
      border:1px solid rgba(148,163,184,0.3);
      color: var(--text);
    }
    footer{
      color:var(--muted);
      text-align:center;
      padding: 24px 12px 46px;
      font-size:13px;
    }
    .empty{
      border:1px dashed rgba(148,163,184,0.3);
      border-radius:14px;
      padding:22px;
      text-align:center;
      color:var(--muted);
    }
    .badge{
      display:inline-block;
      padding:2px 8px;
      border-radius:999px;
      font-size:12px;
      border:1px solid rgba(148,163,184,0.25);
      color:var(--muted);
      margin-left:6px;
      vertical-align:middle;
    }
  </style>
</head>
<body>
  <header>
    <h1>Lezioni</h1>
    <p class="subtitle">Indice delle lezioni pubblicate. Usa la barra di ricerca per filtrare rapidamente per titolo o nome file.</p>
    <div class="toolbar">
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-4.3-4.3m1.8-5.2a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <input id="q" type="search" placeholder="Cerca una lezione... (es. Farneti, Lezione 1)">
      </div>
    </div>
  </header>

  <main class="container">
    <div id="grid" class="grid" aria-live="polite"></div>
    <div id="empty" class="empty" style="display:none">Nessun risultato. Prova a cambiare ricerca o ricarica la pagina.</div>
  </main>

  <footer>
    Pubblicato con <span class="badge">GitHub Pages</span>
  </footer>

  <script>
    const owner = "argotien-hue";
    const repo  = "lezioni";
    const api   = `https://api.github.com/repos/${owner}/${repo}/contents/`;

    const grid  = document.getElementById("grid");
    const q     = document.getElementById("q");
    const empty = document.getElementById("empty");
    let items   = [];

    function prettifyName(name){
      // remove extension
      let base = name.replace(/\\.html?$/i, "");
      // Replace separators with spaces
      base = base.replace(/[._-]+/g, " ");
      // Capitalize words
      base = base.replace(/\\w\\S*/g, w => w.charAt(0).toUpperCase() + w.slice(1));
      // Specific tweaks
      base = base.replace(/Lezione\\s*(\\d+)/i, "Lezione $1");
      return base.trim();
    }

    function render(list){
      grid.innerHTML = "";
      if(!list.length){
        empty.style.display = "block";
        return;
      }
      empty.style.display = "none";
      for(const f of list){
        const card = document.createElement("div");
        card.className = "card";

        const title = document.createElement("div");
        title.className = "title";
        title.textContent = prettifyName(f.name);

        const meta = document.createElement("div");
        meta.className = "meta";
        meta.textContent = f.name;

        const actions = document.createElement("div");
        actions.className = "actions";

        const view = document.createElement("a");
        view.className = "btn";
        view.href = f.name;
        view.textContent = "Apri lezione";
        view.target = "_blank";
        view.rel = "noopener";

        const raw = document.createElement("a");
        raw.className = "btn secondary";
        raw.href = `https://${owner}.github.io/${repo}/${encodeURIComponent(f.name)}`;
        raw.textContent = "Apri in nuova scheda";
        raw.target = "_blank";
        raw.rel = "noopener";

        actions.appendChild(view);
        actions.appendChild(raw);

        card.appendChild(title);
        card.appendChild(meta);
        card.appendChild(actions);
        grid.appendChild(card);
      }
    }

    function filterList(value){
      const v = value.toLowerCase().trim();
      if(!v){ render(items); return; }
      const filtered = items.filter(f => (f.name || "").toLowerCase().includes(v) || prettifyName(f.name).toLowerCase().includes(v));
      render(filtered);
    }

    q.addEventListener("input", e => filterList(e.target.value));

    // Fetch repo contents
    fetch(api)
      .then(r => r.json())
      .then(files => {
        items = (files || []).filter(f => /\\.html?$/i.test(f.name) && f.name.toLowerCase() !== "index.html");
        render(items);
      })
      .catch(err => {
        console.error(err);
        empty.style.display = "block";
        empty.textContent = "Errore nel caricamento dell'elenco. Riprova più tardi.";
      });
  </script>
</body>
</html>
"""
path = "/mnt/data/index-landing.html"
with open(path, "w", encoding="utf-8") as f:
    f.write(landing_html)
path
